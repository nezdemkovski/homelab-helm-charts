# Homarr configuration for official Helm chart
# Reference: https://homarr.dev/docs/getting-started/installation/helm
homarr:
  enabled: true

  replicaCount: 1

  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 200m
      memory: 512Mi

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    seccompProfile:
      type: RuntimeDefault

  securityContext:
    runAsNonRoot: true
    runAsUser: 1000
    runAsGroup: 1000
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: false
    capabilities:
      drop:
        - ALL
    seccompProfile:
      type: RuntimeDefault

  env:
    TZ: "Europe/Prague"
    AUTH_PROVIDERS: "credentials"
    PORT: "7575"

  envSecrets:
    dbCredentials:
      existingSecret: "homelab-apps-secrets"
      dbEncryptionKey: "homarr-encryption-key"

  persistence:
    homarrDatabase:
      enabled: true
      storageClassName: "longhorn"
      size: "2Gi"

  database:
    externalDatabaseEnabled: false
    migrationEnabled: true

  service:
    enabled: true
    type: ClusterIP

  ingress:
    enabled: true
    ingressClassName: "traefik"
    annotations:
      kubernetes.io/ingress.class: traefik
    hosts:
      - host: nezdemkovski.cloud
        paths:
          - path: /
            pathType: ImplementationSpecific

  nodeSelector: {}
